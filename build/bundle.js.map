{"version":3,"sources":["webpack:///webpack/bootstrap 3a0d43b152e1f9ec499a","webpack:///./js/Map.js","webpack:///./js/Game.js","webpack:///./css/main.css?b1a5","webpack:///./js/DefaultMap.js","webpack:///./js/Tile.js","webpack:///./js/main.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/lib/urls.js","webpack:///./css/main.css","webpack:///./~/style-loader/lib/addStyles.js"],"names":["Map","tiles","mapObjects","actors","filter","m","isActor","TICK_THRESHOLD","turnQueue","i","length","ticks","getTicks","idx","j","splice","turnActor","flattenedArray","forEach","row","concat","objs","rerender","obj","MapObject","isHighlighted","moveTo","serializer","MapSerializer","serialize","pop","subtractTicks","tickForward","classNameToString","stringToClass","Knight","map","mapString","getTiles","tileRow","tile","tileString","getClassName","getH","getMapObjects","mapObject","mapObjectString","splitString","split","tileArrayString","mapObjectArrayString","tileRowStrings","y","tileStrings","x","props","tileClass","link","push","mapObjectStrings","classString","attrString","slice","join","mapObjectClass","deserialize","setReferences","attributes","highlighted","h","unsetMapObject","setMapObject","getX","getY","attrSplit","attr","parseInt","parseAttributes","Actor","tickAmount","amt","Promise","resolve","reject","parAttrString","turnResolve","Error","setHighlight","changeNeighbors","getMapObject","MapScreen","canvas","viewport","Viewport","z","width","height","startDragX","startDragY","pressed","mapRenderer","MapRenderer","renderMap","isResolved","nextTurn","animateNextTurn","then","takeTurn","turnLoop","dx","dy","translateAlongBasis","mx","my","code","updateRates","t1","t3","t2","r1","r2","p1","p2","p3","p4","d","p5","calcBasis1","calcBasis2","calcUnitNormal","calcFocalPoint","wx","wy","wz","Math","sqrt","hx","hy","hz","rates","n","points","dot","unitNormal","visiblePoints","normalCheck","pz","lpz","rpz","midpoint","projectPoint","li","ri","point","basis1","basis2","px","py","cx","cy","cz","bx","by","bz","mag","scalar1","scalar2","scalar3","translate","a","translatePoint","p","theta","mz","rotate","axis","normAxis","rad","PI","rotatePoint","ax","cost","cos","sint","sin","mcost","rotateByBasis1","rotateByBasis2","boundingBoxes","ctx","getContext","clearRect","updatePosition","getTilesFlattened","tlen","tx","ty","tz","vertices","cubeFaces","visibleProjectedCubeFaces","projectedCubeFace","projectPlane","strokeStyle","fillStyle","beginPath","k","lineTo","fill","stroke","window","requestAnimationFrame","step","sx1","sx2","sy1","sy2","x1","x2","y1","y2","hover","fillRect","strokeRect","counter","font","fillText","clickedObjects","boundingBox","Game","document","createElement","body","appendChild","screen","start","addEventListener","e","rect","getBoundingClientRect","handleClick","clientX","left","clientY","top","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseLeave","preventDefault","handleKeyDown","handleKeyUp","loadingPromise","exampleMapString","defaultMap","Tile","right","down","dir","steps","highlight","neighbors","unhighlight","PlainTile","EmptyTile","g","innerWidth","innerHeight","module","exports","useSourceMap","list","toString","item","content","cssWithMappingToString","modules","mediaQuery","alreadyImportedModules","id","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","source","sourceRoot","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","css","location","baseUrl","protocol","host","currentDir","pathname","replace","fixedCss","fullMatch","origUrl","unquotedOrigUrl","trim","o","$1","test","newUrl","indexOf"],"mappings":"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AAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3a0d43b152e1f9ec499a","import { Tile, PlainTile, EmptyTile } from \"./Tile\";\n\nclass Map {\n\n    constructor(tiles, mapObjects) {\n        this.tiles = tiles\n        this.mapObjects = mapObjects;\n        this.actors = mapObjects.filter(m => m.isActor());\n\n        this.TICK_THRESHOLD = 100;\n\n        // Priority Queue of actors. Format is [[actor, ticks]]\n        this.turnQueue = [];\n\n        for (let i = 0; i < this.actors.length; i++) {\n            const ticks = this.actors[i].getTicks();\n            if (ticks > this.TICK_THRESHOLD) {\n                let idx = this.turnQueue.length;\n                for (let j = 0; j < this.turnQueue.length; j++) {\n                    if (this.turnQueue[j][1] > ticks) {\n                        idx = j;\n                        break;\n                    }\n                }\n                this.turnQueue.splice(idx, 0, [this.actors[i], ticks]);\n            }\n        }\n        if (this.turnQueue.length > 0) {\n            this.turnActor = this.turnQueue[this.turnQueue.length - 1][0];\n        } else {\n            this.turnActor = null;\n        };\n    }\n\n    getTilesFlattened() {\n        let flattenedArray = [];\n        this.tiles.forEach((row) => {\n            flattenedArray = flattenedArray.concat(row);\n        });\n        return flattenedArray;\n    }\n\n    getTiles() {\n        return this.tiles;\n    }\n\n    getMapObjects() {\n        return this.mapObjects;\n    }\n\n    //TODO: Implement Map Objective Functions\n    isResolved() {\n        return false;\n    }\n\n    clicked(objs) {\n        let rerender = false;\n        for (let i = 0; i < objs.length; i++) {\n            const obj = objs[i];\n            if (obj instanceof MapObject) {\n                //this.setSelection(obj);\n                //rerender = true;\n            } else if (obj instanceof Tile) {\n                if (obj.isHighlighted()) {\n                    this.turnActor.moveTo(obj);\n                    rerender = true;\n                }\n            }\n        }\n        return rerender;\n    }\n\n    serialize() {\n        const serializer = new MapSerializer();\n        return serializer.serialize(this);\n    }\n\n    nextTurn() {\n        if (this.turnActor !== null) {\n            this.turnQueue.pop();\n            this.turnActor.subtractTicks(this.TICK_THRESHOLD);\n        }\n        while (this.turnQueue.length === 0) {\n            for (let i = 0; i < this.actors.length; i++) {\n                this.actors[i].tickForward();\n                const ticks = this.actors[i].getTicks();\n                if (ticks > this.TICK_THRESHOLD) {\n                    let idx = this.turnQueue.length;\n                    for (let j = 0; j < this.turnQueue.length; j++) {\n                        if (this.turnQueue[j][1] > ticks) {\n                            idx = j;\n                            break;\n                        }\n                    }\n                    this.turnQueue.splice(idx, 0, [this.actors[i], ticks]);\n                }\n            }\n        }\n        this.turnActor = this.turnQueue[this.turnQueue.length - 1][0];\n        return this.turnActor;\n    }\n}\n\nclass MapSerializer {\n    constructor() {\n        this.classNameToString = {\n            'Plain' : 'p',\n            'Empty' : 'e',\n            'Knight' : 'k',\n        }\n        this.stringToClass = {\n            'p': PlainTile,\n            'e': EmptyTile,\n            'k': Knight,\n        }\n    }\n\n    serialize(map) {\n        let mapString = '';\n        const tiles = map.getTiles();\n        for (let i = 0; i < tiles.length; i++) {\n            const tileRow = tiles[i];\n            for (let j = 0; j < tileRow.length; j++) {\n                const tile = tileRow[j];\n                const tileString = `${this.classNameToString[tile.getClassName()]}-${tile.getH()}`;\n                mapString += tileString;\n                if (j !== tileRow.length - 1) {\n                    mapString += ' ';\n                }\n            }\n            mapString += '\\n';\n        }\n        mapString += '===\\n';\n        const mapObjects = map.getMapObjects();\n        for (let i = 0; i < mapObjects.length; i++) {\n            const mapObject = mapObjects[i];\n            const mapObjectString = `${this.classNameToString[mapObject.getClassName()]}-${mapObject.serialize()}`;\n            mapString += mapObjectString;\n            if (i !== mapObjects.length - 1) {\n                mapString += '\\n';\n            }\n        }\n        return mapString;\n    }\n\n    deserialize(mapString) {\n        const splitString = mapString.split('\\n===\\n');\n        const tileArrayString = splitString[0];\n        const mapObjectArrayString = splitString[1];\n        const tiles = [];\n        const tileRowStrings = tileArrayString.split('\\n');\n        for (let y = 0; y < tileRowStrings.length; y++) {\n            const tileRow = [];\n            const tileStrings = tileRowStrings[y].split(' ');\n            for (let x = 0; x < tileStrings.length; x++) {\n                const props = tileStrings[x].split('-');\n                const tileClass = this.stringToClass[props[0]];\n                const tile = new tileClass(x, y, props[1]);\n\n                if (x > 0) {\n                    tile.link('left', tileRow[x - 1]);\n                    tileRow[x - 1].link('right', tile);\n                }\n                if (y > 0) {\n                    tile.link('top', tiles[y - 1][x]);\n                    tiles[y - 1][x].link('down', tile);\n                }\n                tileRow.push(tile);\n            }\n            tiles.push(tileRow);\n        }\n        const mapObjects = [];\n        const mapObjectStrings = mapObjectArrayString.split('\\n');\n        for (let i = 0; i < mapObjectStrings.length; i++) {\n            const props = mapObjectStrings[i].split('-');\n            const classString = props[0];\n            const attrString = props.slice(1, props.length).join('-');\n            const mapObjectClass = this.stringToClass[props[0]];\n            const mapObject = mapObjectClass.deserialize(attrString);\n            mapObjects.push(mapObject);\n        }\n        for (let i = 0; i < mapObjects.length; i++) {\n            mapObjects[i].setReferences(tiles, mapObjects);\n        }\n        return new Map(tiles, mapObjects);\n    }\n}\n\nclass MapObject {\n\n    getClassName() {\n        return 'MapObject';\n    }\n\n    constructor(attributes) {\n        this.tile = null;\n        this.x = attributes.x;\n        this.y = attributes.y;\n        this.highlighted = false;\n    }\n\n    getTile() {\n        return this.tile;\n    }\n\n    getX() {\n        return this.x;\n    }\n\n    getY() {\n        return this.y;\n    }\n\n    isHighlighted() {\n        return this.highlighted;\n    }\n\n    setHighlight(h) {\n        this.highlighted = h;\n    }\n\n    moveTo(tile) {\n        this.tile.unsetMapObject(this);\n        tile.setMapObject(this);\n        this.tile = tile;\n        this.x = tile.getX();\n        this.y = tile.getY();\n    }\n\n    isActor() {\n        return false;\n    }\n\n    serialize() {\n        return `${this.x}-${this.getY()}`;\n    }\n\n    static parseAttributes(attrString) {\n        const attrSplit = attrString.split('-');\n        const attr = {\n            x: parseInt(attrSplit[0]),\n            y: parseInt(attrSplit[1]),\n        };\n        return attr;\n    }\n\n    static deserialize(attrString) {\n        return new this(this.parseAttributes(attrString));\n    }\n\n    setReferences(tiles, mapObjects) {\n        this.tile = tiles[this.y][this.x];\n        this.tile.setMapObject(this);\n    }\n}\n\nclass Actor extends MapObject {\n\n    constructor(attributes) {\n        super(attributes);\n        this.ticks = attributes.ticks;\n        this.tickAmount = attributes.tickAmount;\n    }\n\n    getTicks() {\n        return this.ticks;\n    }\n\n    getTickAmount() {\n        return this.tickAmount;\n    }\n\n    tickForward() {\n        this.ticks += this.tickAmount;\n    }\n\n    subtractTicks(amt) {\n        this.ticks -= amt;\n    }\n\n    isActor() {\n        return true;\n    }\n\n    takeTurn() {\n        return new Promise((resolve, reject) => {\n            resolve();\n        });\n    }\n\n    serialize() {\n        return `${super.serialize()}-${this.ticks}-${this.tickAmount}`;\n    }\n\n    static parseAttributes(attrString) {\n        const attrSplit = attrString.split('-');\n        const parAttrString = attrSplit.slice(0, attrSplit.length - 2).join('-');\n        const attr = super.parseAttributes(parAttrString);\n        attr.ticks = parseInt(attrSplit[attrSplit.length - 2]);\n        attr.tickAmount = parseInt(attrSplit[attrSplit.length - 1]);\n        return attr;\n    }\n}\n\nclass Knight extends Actor {\n\n    getClassName() {\n        return 'Knight';\n    }\n\n    constructor(attributes) {\n        super(attributes);\n\n        //attributes\n        // HP\n        // MP\n        // Speed\n        // Skill Points\n        // Attack\n        // Defense\n        // \n        this.turnResolve = function() {\n            throw Error('Called turnResolve() before it was set');\n        };\n    }\n\n    takeTurn() {\n        this.setHighlight(true);\n        this.tile.changeNeighbors(2, true, (tile) => {\n            return tile.getMapObject() == null;\n        });\n        return new Promise((resolve, reject) => {\n            this.turnResolve = resolve;\n        });\n    }\n\n    moveTo(tile) {\n        this.setHighlight(false);\n        this.tile.changeNeighbors(2, false);\n        super.moveTo(tile);\n        this.turnResolve();\n    }\n}\n\nclass MapScreen {\n\n    constructor(canvas, map) {\n        this.canvas = canvas;\n        this.map = map;\n        this.viewport = new Viewport({\n            x: 0,\n            y: 0,\n            z: 500,\n        }, {\n            x: this.canvas.width,\n            y: 0,\n            z: 500,\n        }, {\n            x: 0,\n            y: this.canvas.height,\n            z: 500,\n        }, {\n            x: this.canvas.width,\n            y: this.canvas.height,\n            z: 500,\n        }, 500);\n        this.startDragX = null;\n        this.startDragY = null;\n        this.pressed = {};\n        this.mapRenderer = new MapRenderer(this.canvas, this.map, this.viewport);\n    }\n\n    start() {\n        this.mapRenderer.renderMap();\n        //this.turnLoop();\n    }\n\n    turnLoop() {\n        if (this.map.isResolved()) {\n            // End\n        } else {\n            const turnActor = this.map.nextTurn();\n            this.animateNextTurn(turnActor).then(() => {\n                turnActor.takeTurn().then(() => {\n                    this.turnLoop();\n                });\n                //this.mapRenderer.renderMap(this.map, this.viewport);\n            });\n        }\n    }\n\n    animateNextTurn(turnActor) {\n        return new Promise((resolve, reject) => {\n            resolve();\n            //return this.mapRenderer.centerOn(turnActor);\n        });\n    }\n\n    handleMouseDown(x, y) {\n        this.startDragX = x;\n        this.startDragY = y;\n    }\n\n    handleMouseMove(x, y) {\n        if (this.startDragX !== null && this.startDragY !== null) {\n            const dx = this.startDragX - x;\n            const dy = this.startDragY - y;\n            this.viewport.translateAlongBasis(dx, dy);\n            this.startDragX = x;\n            this.startDragY = y;\n        }\n        //this.mapRenderer.renderMap();\n    }\n\n    handleMouseUp(x, y) {\n        this.startDragX = null;\n        this.startDragY = null;\n    }\n\n    handleClick(x, y) {\n        //this.viewport.mx = this.viewport.x1 + x;\n        //this.viewport.my = this.viewport.y1 + y;\n        //const clickedObjs = this.mapRenderer.getClickedObjects(this.viewport);\n        //const rerender = this.map.clicked(clickedObjs);\n        //if (rerender) {\n            //this.mapRenderer.renderMap(this.map, this.viewport);\n        //}\n    }\n\n    handleMouseLeave() {\n        this.viewport.mx = null;\n        this.viewport.my = null;\n        this.startDragX = null;\n        this.startDragY = null;\n        //this.mapRenderer.renderMap(this.map, this.viewport);\n    }\n\n    handleKeyDown(code) {\n        if (!this.pressed[code]) {\n            this.pressed[code] = true;\n            const updateRates = {};\n            switch (code) {\n                case 'KeyA':\n                    updateRates.t1 = -20;\n                    break;\n                case 'KeyW':\n                    updateRates.t3 = 20;\n                    break;\n                case 'KeyD':\n                    updateRates.t1 = 20;\n                    break;\n                case 'KeyS':\n                    updateRates.t3 = -20;\n                    break;\n                case 'Space':\n                    updateRates.t2 = -20;\n                    break;\n                case 'ShiftLeft':\n                    updateRates.t2 = 20;\n                    break;\n                case 'ArrowUp':\n                    updateRates.r1 = -3;\n                    break;\n                case 'ArrowDown':\n                    updateRates.r1 = 3;\n                    break;\n                case 'ArrowLeft':\n                    updateRates.r2 = 3;\n                    break;\n                case 'ArrowRight':\n                    updateRates.r2 = -3;\n                    break;\n            }\n            this.viewport.updateRates(updateRates);\n        }\n    }\n\n    handleKeyUp(code) {\n        if (this.pressed[code]) {\n            this.pressed[code] = false;\n            const updateRates = {};\n            switch (code) {\n                case 'KeyA':\n                    updateRates.t1 = 20;\n                    break;\n                case 'KeyW':\n                    updateRates.t3 = -20;\n                    break;\n                case 'KeyD':\n                    updateRates.t1 = -20;\n                    break;\n                case 'KeyS':\n                    updateRates.t3 = 20;\n                    break;\n                case 'Space':\n                    updateRates.t2 = 20;\n                    break;\n                case 'ShiftLeft':\n                    updateRates.t2 = -20;\n                    break;\n                case 'ArrowUp':\n                    updateRates.r1 = 3;\n                    break;\n                case 'ArrowDown':\n                    updateRates.r1 = -3;\n                    break;\n                case 'ArrowLeft':\n                    updateRates.r2 = -3;\n                    break;\n                case 'ArrowRight':\n                    updateRates.r2 = 3;\n                    break;\n            }\n            this.viewport.updateRates(updateRates);\n        }\n    }\n}\n\nclass Viewport {\n\n    /*\n        p1 (origin)       p2\n        --------------------\n        |                  |\n        |                  |\n        |                  |\n        --------------------\n        p3                p4\n     */\n    constructor(p1, p2, p3 ,p4, d=-1) {\n        this.p1 = p1;\n        this.p2 = p2;\n        this.p3 = p3;\n        this.p4 = p4;\n        this.d = d;\n        this.p5 = null;\n        this.calcBasis1();\n        this.calcBasis2();\n        this.calcUnitNormal();\n        this.calcFocalPoint();\n        const wx = p2.x - p1.x;\n        const wy = p2.y - p1.y;\n        const wz = p2.z - p2.z;\n        this.width = Math.sqrt(wx * wx + wy * wy + wz * wz);\n        const hx = p3.x - p1.x;\n        const hy = p3.y - p1.y;\n        const hz = p3.z - p1.z;\n        this.height = Math.sqrt(hx * hx + hy * hy + hz * hz);\n        this.rates = {\n            r1: 0,\n            r2: 0,\n            t1: 0,\n            t2: 0,\n            t3: 0,\n        };\n    }\n\n    dot(p1, p2) {\n        return p1.x * p2.x + p1.y * p2.y + p1.z * p2.z;\n    }\n\n    projectPlane({n, points}) {\n        if (this.d === -1 && this.dot(n, this.unitNormal) > 0) {\n            return null;\n        }\n        const visiblePoints = [];\n        let normalCheck = null;\n        let pz, lpz, rpz, midpoint;\n        for (let i = 0; i < points.length; i++) {\n            pz = this.dot(points[i], this.unitNormal) - this.dot(this.p1, this.unitNormal);\n            if (pz >= 0) {\n                if (normalCheck === null) {\n                    normalCheck = this.dot({\n                        x: points[i].x - this.p5.x,\n                        y: points[i].y - this.p5.y,\n                        z: points[i].z - this.p5.z,\n                    }, n);\n                    if (normalCheck > 0) {\n                        return null;\n                    }\n                }\n                visiblePoints.push(this.projectPoint(points[i]));\n            } else {\n                //console.log('CLIPPING');\n                let li = i == 0 ? points.length - 1 : i - 1;\n                lpz = this.dot(points[li], this.unitNormal) - this.dot(this.p1, this.unitNormal);\n                if (lpz > 0) {\n                    midpoint = {\n                        x: lpz / (lpz - pz) * points[i].x - pz / (lpz - pz) * points[li].x,\n                        y: lpz / (lpz - pz) * points[i].y - pz / (lpz - pz) * points[li].y,\n                        z: lpz / (lpz - pz) * points[i].z - pz / (lpz - pz) * points[li].z,\n                    };\n                    if (normalCheck === null) {\n                        normalCheck = this.dot({\n                            x: midpoint.x - this.p5.x,\n                            y: midpoint.y - this.p5.y,\n                            z: midpoint.z - this.p5.z,\n                        }, n);\n                        if (normalCheck > 0) {\n                            return null;\n                        }\n                    }\n                    visiblePoints.push(this.projectPoint(midpoint));\n                }\n                let ri = i == points.length - 1 ? 0 : i + 1;\n                rpz = this.dot(points[ri], this.unitNormal) - this.dot(this.p1, this.unitNormal);\n                if (rpz > 0) {\n                    midpoint = {\n                        x: rpz / (rpz - pz) * points[i].x - pz / (rpz - pz) * points[ri].x,\n                        y: rpz / (rpz - pz) * points[i].y - pz / (rpz - pz) * points[ri].y,\n                        z: rpz / (rpz - pz) * points[i].z - pz / (rpz - pz) * points[ri].z,\n                    }\n                    if (normalCheck === null) {\n                        normalCheck = this.dot({\n                            x: midpoint.x - this.p5.x,\n                            y: midpoint.y - this.p5.y,\n                            z: midpoint.z - this.p5.z,\n                        }, n);\n                        if (normalCheck > 0) {\n                            return null;\n                        }\n                    }\n                    visiblePoints.push(this.projectPoint(midpoint));\n                }\n            }\n        }\n        if (visiblePoints.length === 0) {\n            return null;\n        }\n        return {\n            n: n,\n            points: points,\n            visiblePoints: visiblePoints,\n        };\n    }\n\n    projectPoint(point) {\n        if (this.d == -1) {\n            return {\n                x: this.dot(point, this.basis1) - this.dot(this.p1, this.basis1),\n                y: this.dot(point, this.basis2) - this.dot(this.p1, this.basis2),\n                z: this.dot(point, this.unitNormal) - this.dot(this.p1, this.unitNormal),\n            };\n        } else {\n            const px = this.dot(point, this.basis1) - this.dot(this.p1, this.basis1);\n            const py = this.dot(point, this.basis2) - this.dot(this.p1, this.basis2);\n            const pz = this.dot(point, this.unitNormal) - this.dot(this.p1, this.unitNormal);\n            return {\n                x: (this.width / 2 - px) / (1 + this.d / pz) + px,\n                y: (this.height / 2 - py) / (1 + this.d / pz) + py,\n                z: pz,\n            };\n        }\n    }\n\n    calcFocalPoint() {\n        if (this.d !== -1) {\n            const cx = (this.p1.x + this.p4.x) / 2;\n            const cy = (this.p1.y + this.p4.y) / 2;\n            const cz = (this.p1.z + this.p4.z) / 2;\n            this.p5 = {\n                x: cx - this.d * this.unitNormal.x,\n                y: cy - this.d * this.unitNormal.y,\n                z: cz - this.d * this.unitNormal.z,\n            };\n        }\n    }\n\n    calcBasis1() {\n        const bx = this.p2.x - this.p1.x;\n        const by = this.p2.y - this.p1.y;\n        const bz = this.p2.z - this.p1.z;\n        const mag = Math.sqrt(bx * bx + by * by + bz * bz);\n        this.basis1 = {\n            x: bx / mag,\n            y: by / mag,\n            z: bz / mag,\n        };\n    }\n\n    calcBasis2() {\n        const bx = this.p3.x - this.p1.x;\n        const by = this.p3.y - this.p1.y;\n        const bz = this.p3.z - this.p1.z;\n        const mag = Math.sqrt(bx * bx + by * by + bz * bz);\n        this.basis2 = {\n            x: bx / mag,\n            y: by / mag,\n            z: bz / mag,\n        };\n    }\n\n    // Basis \n    calcUnitNormal() {\n        this.unitNormal = {\n            x: this.basis2.y * this.basis1.z - this.basis2.z * this.basis1.y,\n            y: this.basis2.z * this.basis1.x - this.basis2.x * this.basis1.z,\n            z: this.basis2.x * this.basis1.y - this.basis2.y * this.basis1.x,\n        };\n    };\n\n    translateAlongBasis(scalar1, scalar2, scalar3) {\n        this.translate({\n            x: this.basis1.x * scalar1 + this.basis2.x * scalar2 + this.unitNormal.x * scalar3,\n            y: this.basis1.y * scalar1 + this.basis2.y * scalar2 + this.unitNormal.y * scalar3,\n            z: this.basis1.z * scalar1 + this.basis2.z * scalar2 + this.unitNormal.z * scalar3,\n        });\n    }\n\n    translate(a) {\n        this.p1 = this.translatePoint(this.p1, a);\n        this.p2 = this.translatePoint(this.p2, a);\n        this.p3 = this.translatePoint(this.p3, a);\n        this.p4 = this.translatePoint(this.p4, a);\n        this.calcBasis1();\n        this.calcBasis2();\n        this.calcUnitNormal();\n        this.calcFocalPoint();\n    }\n\n    translatePoint(p, a) {\n        return {\n            x: p.x + a.x,\n            y: p.y + a.y,\n            z: p.z + a.z,\n        };\n    }\n\n    rotateByBasis1(theta) {\n        let mx, my, mz;\n        if (this.d !== -1) {\n            mx = this.p5.x;\n            my = this.p5.y;\n            mz = this.p5.z;\n        } else {\n            mx = (this.p1.x + this.p4.x) / 2;\n            my = (this.p1.y + this.p4.y) / 2;\n            mz = (this.p1.z + this.p4.z) / 2;\n        }\n        this.translate({\n            x: -mx,\n            y: -my,\n            z: -mz,\n        });\n        this.rotate(this.basis1, theta);\n        this.translate({\n            x: mx,\n            y: my,\n            z: mz,\n        });\n    }\n\n    rotateByBasis2(theta) {\n        let mx, my, mz;\n        if (this.d !== -1) {\n            mx = this.p5.x;\n            my = this.p5.y;\n            mz = this.p5.z;\n        } else {\n            mx = (this.p1.x + this.p4.x) / 2;\n            my = (this.p1.y + this.p4.y) / 2;\n            mz = (this.p1.z + this.p4.z) / 2;\n        }\n        this.translate({\n            x: -mx,\n            y: -my,\n            z: -mz,\n        });\n        this.rotate(this.basis2, theta);\n        this.translate({\n            x: mx,\n            y: my,\n            z: mz,\n        });\n    }\n\n    rotate(axis, theta) {\n        const mag = Math.sqrt(this.dot(axis, axis));\n        const normAxis = {\n            x: axis.x / mag,\n            y: axis.y / mag,\n            z: axis.z / mag,\n        };\n        const rad = theta / 360 * Math.PI;\n        this.p1 = this.rotatePoint(this.p1, normAxis, rad);\n        this.p2 = this.rotatePoint(this.p2, normAxis, rad);\n        this.p3 = this.rotatePoint(this.p3, normAxis, rad);\n        this.p4 = this.rotatePoint(this.p4, normAxis, rad);\n        this.calcBasis1();\n        this.calcBasis2();\n        this.calcUnitNormal();\n        this.calcFocalPoint();\n    }\n\n    // Axis must be unit, Theta must be radians.\n    rotatePoint(p, ax, rad) {\n        const cost = Math.cos(rad);\n        const sint = Math.sin(rad);\n        const mcost = 1 - cost;\n        const dot = this.dot(ax, p);\n        return {\n            x: p.x * cost + (ax.y * p.z - ax.z * p.y) * sint + ax.x * dot * mcost,\n            y: p.y * cost + (ax.z * p.x - ax.x * p.z) * sint + ax.y * dot * mcost,\n            z: p.z * cost + (ax.x * p.y - ax.y * p.x) * sint + ax.z * dot * mcost,\n        };\n    }\n\n    updatePosition() {\n        if (this.rates.r1 !== 0) {\n            this.rotateByBasis1(this.rates.r1);\n        }\n        if (this.rates.r2 !== 0) {\n            this.rotateByBasis2(this.rates.r2);\n        }\n        if (this.rates.t1 || this.rates.t2 || this.rates.t3) {\n            this.translateAlongBasis(this.rates.t1, this.rates.t2, this.rates.t3);\n        }\n    }\n\n    updateRates(rates) {\n        this.rates.r1 += (rates.r1 || 0);\n        this.rates.r2 += (rates.r2 || 0);\n        this.rates.t1 += (rates.t1 || 0);\n        this.rates.t2 += (rates.t2 || 0);\n        this.rates.t3 += (rates.t3 || 0);\n    }\n}\n\nclass MapRenderer {\n\n    constructor(canvas, map, viewport) {\n        this.canvas = canvas;\n        this.boundingBoxes = [];\n        /*this.viewport = {\n            x1: 0,\n            x2: canvas.width,\n            y1: 0,\n            y2: canvas.height,\n        };*/\n        this.map = map;\n        this.viewport = viewport;\n    }\n\n    \n    renderMap() {\n        const ctx = this.canvas.getContext('2d');\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.boundingBoxes = [];\n\n        /*const drawables = this.map.getDrawables();\n        drawables.forEach((drawable) => {\n\n            //Check to see if visible given current viewport\n            th\n\n\n\n            //If yes, draw and add bounding box\n\n            drawable.getBoundingShape();\n            drawable.getBoundingBox();\n            const dx = drawable.getPixelX();\n            const dy = \n            if (drawable instanceof PlainTile) {\n\n            } else if (drawable instanceof Knight) {\n\n            }\n        });*/\n\n        this.viewport.updatePosition();\n\n        //\n        const tiles = this.map.getTilesFlattened();\n        const tlen = 100;\n        for (let i = 0; i < tiles.length; i++) {\n            const tx = tiles[i].getX() * tlen;\n            const ty = tiles[i].getY() * tlen;\n            const tz = tiles[i].getH() * tlen;\n            const vertices = [{\n                x: tx,\n                y: ty,\n                z: tz,\n            }, {\n                x: tx + 100,\n                y: ty,\n                z: tz,\n            }, {\n                x: tx + 100,\n                y: ty + 100,\n                z: tz,\n            }, {\n                x: tx,\n                y: ty + 100,\n                z: tz,\n            }, {\n                x: tx,\n                y: ty,\n                z: 0,\n            }, {\n                x: tx + 100,\n                y: ty,\n                z: 0,\n            }, {\n                x: tx + 100,\n                y: ty + 100,\n                z: 0,\n            }, {\n                x: tx,\n                y: ty + 100,\n                z: 0,\n            }];\n            /*const projectedPoints = [];\n            for (let j = 0; j < points.length; j++) {\n                projectedPoints.push(this.viewport.projectOntoPlane(points[j]));\n                //console.log(j]);\n            }*/\n\n            const cubeFaces = [\n                {\n                    n: {\n                        x: 0,\n                        y: 0,\n                        z: 1,\n                    },\n                    points: [\n                        vertices[0],\n                        vertices[1],\n                        vertices[2],\n                        vertices[3],\n                    ],\n                },\n                {\n                    n: {\n                        x: 0,\n                        y: 0,\n                        z: -1,\n                    },\n                    points: [\n                        vertices[4],\n                        vertices[5],\n                        vertices[6],\n                        vertices[7],\n                    ],\n                },\n                {\n                    n: {\n                        x: 1,\n                        y: 0,\n                        z: 0,\n                    },\n                    points: [\n                        vertices[1],\n                        vertices[2],\n                        vertices[6],\n                        vertices[5],\n                    ],\n                },\n                {\n                    n: {\n                        x: -1,\n                        y: 0,\n                        z: 0,\n                    },\n                    points: [\n                        vertices[0],\n                        vertices[3],\n                        vertices[7],\n                        vertices[4],\n                    ],\n                },\n                {\n                    n: {\n                        x: 0,\n                        y: 1,\n                        z: 0,\n                    },\n                    points: [\n                        vertices[2],\n                        vertices[3],\n                        vertices[7],\n                        vertices[6],\n                    ],\n                },\n                {\n                    n: {\n                        x: 0,\n                        y: -1,\n                        z: 0,\n                    },\n                    points: [\n                        vertices[0],\n                        vertices[1],\n                        vertices[5],\n                        vertices[4],\n                    ],\n                },\n            ];\n\n            const visibleProjectedCubeFaces = [];\n            for (let j = 0; j < cubeFaces.length; j++) {\n                let projectedCubeFace = this.viewport.projectPlane(cubeFaces[j]);\n                if (projectedCubeFace !== null) {\n                    visibleProjectedCubeFaces.push(projectedCubeFace);\n\n                    ctx.strokeStyle = \"#000000\";\n                    ctx.fillStyle = \"#CCCCCC\";\n                    ctx.beginPath();\n                    for (let k = 0; k < projectedCubeFace.visiblePoints.length; k++) {\n                        if (k == 0) {\n                            ctx.moveTo(projectedCubeFace.visiblePoints[k].x, projectedCubeFace.visiblePoints[k].y);\n                        }\n                        if (k == projectedCubeFace.visiblePoints.length - 1) {\n                            ctx.lineTo(projectedCubeFace.visiblePoints[0].x, projectedCubeFace.visiblePoints[0].y);\n                        } else {\n                            ctx.lineTo(projectedCubeFace.visiblePoints[k + 1].x, projectedCubeFace.visiblePoints[k + 1].y);\n                        }\n                    }\n                    ctx.fill();\n                    ctx.beginPath();\n                    for (let k = 0; k < projectedCubeFace.visiblePoints.length; k++) {\n                        if (k == 0) {\n                            ctx.moveTo(projectedCubeFace.visiblePoints[k].x, projectedCubeFace.visiblePoints[k].y);\n                        }\n                        if (k == projectedCubeFace.visiblePoints.length - 1) {\n                            ctx.lineTo(projectedCubeFace.visiblePoints[0].x, projectedCubeFace.visiblePoints[0].y);\n                        } else {\n                            ctx.lineTo(projectedCubeFace.visiblePoints[k + 1].x, projectedCubeFace.visiblePoints[k + 1].y);\n                        }\n                    }\n                    ctx.stroke();\n                } else {\n                    //console.log(cubeFaces[j].n);\n                }\n            }\n        }\n\n\n        //this.renderTiles(tiles, this.viewport);\n        //const mapObjects = map.getMapObjects();\n        //this.renderMapObjects(mapObjects, this.viewport);\n\n\n        window.requestAnimationFrame((step) => {\n            this.renderMap();\n        });\n    }\n\n\n\n    renderTiles(tiles, viewport) {\n        const ctx = this.canvas.getContext(\"2d\");\n        tiles.forEach((tile) => {\n            const tx = tile.getX();\n            const ty = tile.getY();\n\n            //map tx and ty into screen x and y (sx & sy) \n            const sx1 = tx * 100;\n            const sx2 = tx * 100 + 100;\n            const sy1 = ty * 100;\n            const sy2 = ty * 100 + 100;\n\n            if (sx2 >= viewport.x1 && sx1 <= viewport.x2 && sy2 >= viewport.y1 && sy1 <= viewport.y2) {\n\n                let hover = false;\n                if (viewport.mx !== null && viewport.my !== null) {\n                    if (viewport.mx > sx1 && viewport.mx < sx2 && viewport.my > sy1 && viewport.my < sy2) {\n                        hover = true;\n                    }\n                }\n                if (tile instanceof PlainTile) {\n                    ctx.strokeStyle = \"#000000\";\n                    if (tile.isHighlighted()) {\n                        if (hover) {\n                            ctx.fillStyle = \"#0066FF\";\n                        }  else {\n                            ctx.fillStyle = \"#0000FF\";\n                        }\n                    } else {\n                        if (hover) {\n                        ctx.fillStyle = \"#D9D9D9\";\n                        } else {\n                            ctx.fillStyle = \"#CCCCCC\";\n                        }\n                    }\n                    ctx.fillRect(sx1 - viewport.x1, sy1 - viewport.y1, 100, 100);\n                    ctx.strokeRect(sx1 - viewport.x1, sy1 - viewport.y1, 100, 100);\n                    this.boundingBoxes.push({\n                        obj: tile,\n                        x1: sx1,\n                        x2: sx2,\n                        y1: sy1,\n                        y2: sy2,\n                    });\n                }\n            }\n        });\n    }\n\n    renderMapObjects(mapObjects, viewport) {\n        const ctx = this.canvas.getContext(\"2d\");\n        ctx.fillStyle = \"#0000FF\";\n        ctx.strokeStyle = \"#000000\";\n        let counter = 0;\n        mapObjects.forEach((mapObject) => {\n            const mx = mapObject.getX();\n            const my = mapObject.getY();\n\n            //map tx and ty into screen x and y (sx & sy) \n            const sx1 = mx * 100;\n            const sx2 = mx * 100 + 100;\n            const sy1 = my * 100;\n            const sy2 = my * 100 + 100;\n\n            if (sx2 >= viewport.x1 && sx1 <= viewport.x2 && sy2 >= viewport.y1 && sy1 <= viewport.y2) {\n                \n                if (mapObject.isHighlighted()) {\n                    ctx.fillStyle = \"#00FF00\";\n                } else {\n                    ctx.fillStyle = \"#0000FF\";\n                }\n                ctx.fillRect(sx1 + 15 - viewport.x1, sy1 + 15 - viewport.y1, 70, 70);\n                ctx.strokeRect(sx1 + 15 - viewport.x1, sy1 + 15 - viewport.y1, 70, 70);\n                ctx.fillStyle = \"#000000\";\n                ctx.font = \"48px serif\";\n                ctx.fillText(`${counter}`,sx1 + 40 - viewport.x1, sy1 + 60 - viewport.y1);\n                counter += 1;\n                this.boundingBoxes.push({\n                    obj: mapObject,\n                    x1: sx1,\n                    x2: sx2,\n                    y1: sy1,\n                    y2: sy2,\n                });\n            }\n        });\n    }\n\n    getClickedObjects(viewport) {\n        const clickedObjects = [];\n        const mx = viewport.mx;\n        const my = viewport.my;\n        for (let i = 0; i < this.boundingBoxes.length; i++) {\n            let boundingBox = this.boundingBoxes[i];\n            if (mx > boundingBox.x1 && mx < boundingBox.x2 && my > boundingBox.y1 && my < boundingBox.y2) {\n                clickedObjects.push(boundingBox.obj);\n            }\n        }\n        return clickedObjects;\n    }\n\n    getCenteredViewport(mapObject) {\n\n    }\n}\n\nexport {Map, MapObject, MapSerializer, MapRenderer, MapScreen, Knight}\n\n\n// WEBPACK FOOTER //\n// ./js/Map.js","import { MapScreen } from \"./Map\";\nimport DefaultMap from \"./DefaultMap\";\n\nexport default class Game {\n    constructor(width, height) {\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = width;\n        this.canvas.height = height;\n    }\n\n    start() {\n        document.body.appendChild(this.canvas);\n        this.screen = new MapScreen(this.canvas, DefaultMap);\n        window.screen = this.screen;\n        this.screen.start();\n    \n        this.canvas.addEventListener(\"click\", (e) => {\n            const rect = this.canvas.getBoundingClientRect();\n            this.screen.handleClick(e.clientX - rect.left, e.clientY - rect.top);\n        });\n\n        this.canvas.addEventListener(\"mousedown\", (e) => {\n            const rect = this.canvas.getBoundingClientRect();\n            this.screen.handleMouseDown(e.clientX - rect.left, e.clientY - rect.top);\n        });\n\n        this.canvas.addEventListener(\"mousemove\", (e) => {\n            const rect = this.canvas.getBoundingClientRect();\n            this.screen.handleMouseMove(e.clientX - rect.left, e.clientY - rect.top);\n        });\n\n        this.canvas.addEventListener(\"mouseup\", (e) => {\n            const rect = this.canvas.getBoundingClientRect();\n            this.screen.handleMouseUp(e.clientX - rect.left, e.clientY - rect.top);\n        });\n\n        this.canvas.addEventListener(\"mouseleave\", (e) => {\n            this.screen.handleMouseLeave();\n        });\n\n        document.addEventListener(\"keydown\", (e) => {\n            e.preventDefault();\n            this.screen.handleKeyDown(e.code);\n        });\n\n        document.addEventListener(\"keyup\", (e) => {\n            e.preventDefault();\n            this.screen.handleKeyUp(e.code);\n        });\n\n        /*this.loadAssets().then(() => {\n\n            this.canvas.addEventListener(\"click\", (e) => {\n                console.log(e);\n            });\n\n            this.loadDemo();\n        });*/\n    }\n\n    loadAssets() {\n        let loadingPromise = new Promise((resolve, reject) => {\n            resolve();\n        });\n        return loadingPromise\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./js/Game.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js!./main.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!./main.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!./main.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./css/main.css\n// module id = 2\n// module chunks = 0","import { MapSerializer } from \"./Map\";\n\nvar exampleMapString = \n`p-2 p-1 p-1 p-1\np-1 e-3 p-1 p-1\np-1 p-1 p-1 e-1\np-2 p-2 p-2 p-1\ne-1 e-2 e-1 p-1\np-1 p-2 e-1 p-1\np-1 p-1 p-1 p-1\n===\nk-0-0-0-20\nk-2-1-0-30`;\n\n/*var exampleMapString = \n`p-2 p-1 p-1 p-1\np-1 p-1 p-2 p-1\np-1 p-1 p-2 p-1\n===\nk-0-0-0-20`;*/\n\nconst serializer = new MapSerializer();\nconst defaultMap = serializer.deserialize(exampleMapString);\n\nexport default defaultMap;\n\n\n// WEBPACK FOOTER //\n// ./js/DefaultMap.js","class Tile {\n\n    getClassName() {\n        throw Error('Unimplemented');\n    }\n\n    constructor(x, y, h) {\n        this.x = x;\n        this.y = y;\n        this.h = h;\n        this.left = null;\n        this.right = null;\n        this.top = null;\n        this.down = null;\n        this.highlighted = false;\n        this.mapObject = null;\n    }\n\n    link(dir, tile) {\n        this[dir] = tile;\n    }\n\n    getX() {\n        return this.x;\n    }\n\n    getY() {\n        return this.y;\n    }\n\n    getH() {\n        return this.h;\n    }\n\n    changeNeighbors(steps, highlight, filter=()=>true) {\n        if (steps === 0) {\n            return;\n        }\n        const neighbors = [this.left, this.right, this.top, this.down];\n        neighbors.forEach((tile) => {\n            if (tile !== null && filter(tile)) {\n                if (highlight && !tile.isHighlighted()) {\n                    tile.highlight();\n                    tile.changeNeighbors(steps - 1, highlight, filter);\n                }\n                if (!highlight && tile.isHighlighted()) {\n                    tile.unhighlight();\n                    tile.changeNeighbors(steps - 1, highlight, filter);\n                }\n            }\n        });\n    }\n\n    isHighlighted() {\n        return this.highlighted;\n    }\n\n    highlight() {\n        this.highlighted = true;\n    }\n\n    unhighlight() {\n        this.highlighted = false;\n    }\n\n    setMapObject(mapObject) {\n        this.mapObject = mapObject;\n    }\n\n    unsetMapObject(mapObject) {\n        this.mapObject = null;\n    }\n\n    getMapObject() {\n        return this.mapObject;\n    }\n\n}\n\nclass PlainTile extends Tile {\n\n    getClassName() {\n        return 'Plain';\n    }\n}\n\nclass EmptyTile extends Tile {\n\n    getClassName() {\n        return 'Empty';\n    }\n\n    changeNeighbors(steps, highlight) {\n        return;\n    }\n\n    highlight() {\n        return;\n    }\n\n    unhighlight() {\n        return;\n    }\n}\n\nexport {Tile, EmptyTile, PlainTile};\n\n\n// WEBPACK FOOTER //\n// ./js/Tile.js","import Game from \"./Game\";\nimport \"../css/main.css\"\n\nconst g = new Game(window.innerWidth - 16, window.innerHeight - 16);\ng.start();\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/css-loader/lib/css-base.js","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/style-loader/lib/urls.js","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"canvas {\\n\\tborder: 1px solid black;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./css/main.css\n// module id = 8\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/lib/addStyles.js\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}